{"ast":null,"code":"import _Date$now from \"@babel/runtime-corejs2/core-js/date/now\";\nimport _JSON$stringify from \"@babel/runtime-corejs2/core-js/json/stringify\";\nimport { serialize } from 'cookie';\n/**\n * This sets `cookie` on `res` object\n */\n\nconst cookie = (res, name, value, options = {}) => {\n  const stringValue = typeof value === 'object' ? 'j:' + _JSON$stringify(value) : String(value);\n\n  if ('maxAge' in options) {\n    options.expires = new Date(_Date$now() + options.maxAge);\n    options.maxAge /= 1000;\n  }\n\n  res.setHeader('Set-Cookie', serialize(name, String(stringValue), options));\n};\n/**\n * Adds `cookie` function on `res.cookie` to set cookies for response\n */\n\n\nconst cookies = handler => (req, res) => {\n  res.cookie = (name, value, options) => cookie(res, name, value, options);\n\n  return handler(req, res);\n};\n\nexport default cookies;","map":{"version":3,"sources":["/Users/ilancaster/Desktop/next-js-learning/boilerplates/api-routes-middleware-ap/utils/cookies.js"],"names":["serialize","cookie","res","name","value","options","stringValue","String","expires","Date","maxAge","setHeader","cookies","handler","req"],"mappings":";;AAAA,SAASA,SAAT,QAA0B,QAA1B;AAEA;;;;AAGA,MAAMC,MAAM,GAAG,CAACC,GAAD,EAAMC,IAAN,EAAYC,KAAZ,EAAmBC,OAAO,GAAG,EAA7B,KAAoC;AACjD,QAAMC,WAAW,GACf,OAAOF,KAAP,KAAiB,QAAjB,GAA4B,OAAO,gBAAeA,KAAf,CAAnC,GAA2DG,MAAM,CAACH,KAAD,CADnE;;AAGA,MAAI,YAAYC,OAAhB,EAAyB;AACvBA,IAAAA,OAAO,CAACG,OAAR,GAAkB,IAAIC,IAAJ,CAAS,cAAaJ,OAAO,CAACK,MAA9B,CAAlB;AACAL,IAAAA,OAAO,CAACK,MAAR,IAAkB,IAAlB;AACD;;AAEDR,EAAAA,GAAG,CAACS,SAAJ,CAAc,YAAd,EAA4BX,SAAS,CAACG,IAAD,EAAOI,MAAM,CAACD,WAAD,CAAb,EAA4BD,OAA5B,CAArC;AACD,CAVD;AAYA;;;;;AAGA,MAAMO,OAAO,GAAGC,OAAO,IAAI,CAACC,GAAD,EAAMZ,GAAN,KAAc;AACvCA,EAAAA,GAAG,CAACD,MAAJ,GAAa,CAACE,IAAD,EAAOC,KAAP,EAAcC,OAAd,KAA0BJ,MAAM,CAACC,GAAD,EAAMC,IAAN,EAAYC,KAAZ,EAAmBC,OAAnB,CAA7C;;AAEA,SAAOQ,OAAO,CAACC,GAAD,EAAMZ,GAAN,CAAd;AACD,CAJD;;AAMA,eAAeU,OAAf","sourcesContent":["import { serialize } from 'cookie'\n\n/**\n * This sets `cookie` on `res` object\n */\nconst cookie = (res, name, value, options = {}) => {\n  const stringValue =\n    typeof value === 'object' ? 'j:' + JSON.stringify(value) : String(value)\n\n  if ('maxAge' in options) {\n    options.expires = new Date(Date.now() + options.maxAge)\n    options.maxAge /= 1000\n  }\n\n  res.setHeader('Set-Cookie', serialize(name, String(stringValue), options))\n}\n\n/**\n * Adds `cookie` function on `res.cookie` to set cookies for response\n */\nconst cookies = handler => (req, res) => {\n  res.cookie = (name, value, options) => cookie(res, name, value, options)\n\n  return handler(req, res)\n}\n\nexport default cookies\n"]},"metadata":{},"sourceType":"module"}